<div class="form-page">
  <form [formGroup]="registerForm" (ngSubmit)="handleAccount()">
    <fieldset>
      <label for="email">Correo</label>
      <input id="email" type="email" formControlName="email" />
      @if (registerForm.get('email')?.hasError('required') && registerForm.get('email')?.touched) {
        <p class="field-error">El correo es obligatorio</p>
      }
      @if(registerForm.get('email')?.hasError('emailRepeated') && registerForm.get('email')?.touched){
        <p class="field-error">Ya existe este correo</p>
      }
    </fieldset>

    <fieldset>
      <label for="nickname">Nombre de usuario</label>
      <input id="nickname" type="text" formControlName="nickname" />
      @if (registerForm.get('nickname')?.hasError('required')&& registerForm.get('nickname')?.touched) {
        <p class="field-error">El nombre de usuario es obligatorio</p>
      }
    </fieldset>

    <fieldset>
      <label for="password">Contraseña</label>
      <input id="password" type="password" formControlName="password" />
      @if (
        registerForm.get('password')?.hasError('required') && registerForm.get('password')?.touched
      ) {
        <p class="field-error">Se requiere la contraseña</p>
      }
     
        <p>Se requiere un mínimo de 8 carácteres</p>
      
    </fieldset>

    <fieldset>
      <label for="repeat-password">Repita la contraseña</label>
      <input id="repeat-password" type="password" formControlName="repeatPassword" />
      @if (registerForm.hasError('noMatch') && registerForm.get('repeatPassword')?.touched) {
        <p class="field-error">Las contraseñas no coinciden</p>
      }
    </fieldset>

    <button type="submit" [disabled]="registerForm.invalid">Crear cuenta</button>
  </form>
</div>
